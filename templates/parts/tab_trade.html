<div class="tab-pane fade show active" id="pills-trade" role="tabpanel">
    <div class="card border-0 shadow-sm">
        <div class="card-body p-2">
            
            <div class="d-flex justify-content-between align-items-center mb-2">
                <select id="watchlist_select" class="form-select form-select-sm" style="max-width: 60%;" onchange="loadWatchlist(this.value)">
                    <option value="" selected>ðŸ“º Select Watchlist</option>
                    </select>
                <div id="connection_status">
                    <span class="badge bg-secondary">Checking...</span>
                </div>
            </div>

            <div class="input-group mb-2">
                <input type="text" id="trade_symbol" class="form-control fw-bold" placeholder="SEARCH SYMBOL (e.g. NIFTY)" autocomplete="off" list="symbol_list">
                <datalist id="symbol_list"></datalist>
                <button class="btn btn-outline-secondary" type="button" onclick="fetchLTP()"><i class="fas fa-sync"></i> LTP</button>
            </div>
            
            <div id="option_selectors" class="row g-1 mb-2">
                <div class="col-6">
                    <select id="opt_expiry" class="form-select form-select-sm"></select>
                </div>
                <div class="col-6">
                    <select id="opt_strike" class="form-select form-select-sm"></select>
                </div>
            </div>

            <div class="text-center mb-2">
                <h3 class="m-0" id="ltp_display">0.00</h3>
                <small class="text-muted" id="ltp_time">--:--:--</small>
            </div>

            <hr class="my-2">

            <div class="row g-1 mb-2">
                <div class="col-6">
                    <div class="btn-group w-100" role="group">
                        <input type="radio" class="btn-check" name="trans_type" id="buy_btn" value="BUY" checked>
                        <label class="btn btn-outline-success btn-sm" for="buy_btn">BUY</label>
                        <input type="radio" class="btn-check" name="trans_type" id="sell_btn" value="SELL">
                        <label class="btn btn-outline-danger btn-sm" for="sell_btn">SELL</label>
                    </div>
                </div>
                <div class="col-6">
                    <select id="order_type" class="form-select form-select-sm fw-bold">
                        <option value="MARKET">MARKET</option>
                        <option value="LIMIT">LIMIT</option>
                        <option value="SL">SL-LIMIT</option>
                    </select>
                </div>
            </div>

            <div class="row g-1 mb-2">
                <div class="col-4">
                    <label class="form-label small mb-0">Qty</label>
                    <input type="number" id="trade_qty" class="form-control form-control-sm fw-bold" placeholder="Qty">
                </div>
                <div class="col-4">
                    <label class="form-label small mb-0">Price</label>
                    <input type="number" step="0.05" id="trade_price" class="form-control form-control-sm" placeholder="0.00">
                </div>
                <div class="col-4">
                    <label class="form-label small mb-0">Trig. Price</label>
                    <input type="number" step="0.05" id="trade_trigger" class="form-control form-control-sm" placeholder="0.00">
                </div>
            </div>

            <div class="row g-1 mb-2">
                <div class="col-6">
                    <label class="form-label small mb-0 text-danger">Stop Loss (Pts/Abs)</label>
                    <input type="number" step="0.5" id="trade_sl" class="form-control form-control-sm border-danger fw-bold" placeholder="SL">
                </div>
                <div class="col-6">
                    <label class="form-label small mb-0 text-info">Trailing SL (Pts)</label>
                    <input type="number" step="0.5" id="trade_trail" class="form-control form-control-sm border-info" placeholder="0 to Disable">
                </div>
            </div>

            <hr class="my-2">
            
            <label class="form-label small text-success fw-bold mb-1">Targets (Price | Active | Lots | Full | Trail)</label>
            
            <div class="input-group input-group-sm mb-1">
                <span class="input-group-text text-success fw-bold" style="width: 30px;">1</span>
                <input type="number" step="0.05" id="entry_t1" class="form-control" placeholder="Price">
                
                <div class="input-group-text px-1" title="Active">
                    <input class="form-check-input mt-0" type="checkbox" id="entry_t1_active" checked>
                </div>
                
                <input type="number" id="entry_t1_lots" class="form-control text-center px-1" placeholder="Lots">
                
                <div class="input-group-text px-1" title="Exit Full Quantity">
                    <input class="form-check-input mt-0" type="checkbox" id="entry_t1_full">
                </div>
                
                <div class="input-group-text px-1" title="Trail SL to Entry">
                    <input class="form-check-input mt-0" type="checkbox" id="entry_t1_cost">
                    <span style="font-size: 0.6rem; margin-left:1px;">C</span>
                </div>
            </div>

            <div class="input-group input-group-sm mb-1">
                <span class="input-group-text text-success fw-bold" style="width: 30px;">2</span>
                <input type="number" step="0.05" id="entry_t2" class="form-control" placeholder="Price">
                
                <div class="input-group-text px-1" title="Active">
                    <input class="form-check-input mt-0" type="checkbox" id="entry_t2_active" checked>
                </div>
                
                <input type="number" id="entry_t2_lots" class="form-control text-center px-1" placeholder="Lots">
                
                <div class="input-group-text px-1" title="Exit Full Quantity">
                    <input class="form-check-input mt-0" type="checkbox" id="entry_t2_full">
                </div>
                
                <div class="input-group-text px-1" title="Trail SL to Entry">
                    <input class="form-check-input mt-0" type="checkbox" id="entry_t2_cost">
                    <span style="font-size: 0.6rem; margin-left:1px;">C</span>
                </div>
            </div>

            <div class="input-group input-group-sm mb-3">
                <span class="input-group-text text-success fw-bold" style="width: 30px;">3</span>
                <input type="number" step="0.05" id="entry_t3" class="form-control" placeholder="Price">
                
                <div class="input-group-text px-1" title="Active">
                    <input class="form-check-input mt-0" type="checkbox" id="entry_t3_active" checked>
                </div>
                
                <input type="number" id="entry_t3_lots" class="form-control text-center px-1" placeholder="Lots">
                
                <div class="input-group-text px-1" title="Exit Full Quantity">
                    <input class="form-check-input mt-0" type="checkbox" id="entry_t3_full">
                </div>
                
                <div class="input-group-text px-1" title="Trail SL to Entry">
                    <input class="form-check-input mt-0" type="checkbox" id="entry_t3_cost">
                    <span style="font-size: 0.6rem; margin-left:1px;">C</span>
                </div>
            </div>

            <div class="d-flex align-items-center mb-3">
                <label class="form-label small mb-0 me-2">Exit Mult:</label>
                <input type="number" id="trade_exit_mult" class="form-control form-control-sm fw-bold border-primary text-center" value="1" min="1" max="10" style="width: 60px;">
                <small class="text-muted ms-2">(Auto-Calc Targets)</small>
            </div>

            <div class="d-grid gap-2">
                <button class="btn btn-primary fw-bold" type="button" onclick="placeOrder()">
                    <i class="fas fa-paper-plane"></i> PLACE ORDER
                </button>
                <button class="btn btn-outline-secondary btn-sm" type="button" onclick="resetTradeForm()">
                    <i class="fas fa-undo"></i> Reset
                </button>
            </div>

        </div>
    </div>
</div>
