<div class="row g-2 mb-2">
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center mb-1">
            <label class="pos-grid-label">WATCHLIST (Auto-Populate)</label>
            <span id="trade_ltp" class="badge bg-warning text-dark shadow-sm" style="font-size: 0.8rem;">LTP: 0.00</span>
        </div>
        <div class="input-group">
            <select id="trade_watch" class="form-select form-select-sm fw-bold border-secondary" style="width: auto;" onchange="loadWatchlist('trade_watch', '#trade_sym')">
                <option value="">üì∫ Select</option>
            </select>
            <button class="btn btn-sm btn-outline-danger" type="button" onclick="removeFromWatchlist('trade_watch')">‚ùå</button>
        </div>
    </div>
</div>

<div class="row g-2 mb-2">
    <div class="col-12">
        <label class="pos-grid-label">SYMBOL (NSE/NFO/MCX)</label>
        <div class="input-group">
            <input type="text" id="trade_sym" class="form-control fw-bold" placeholder="e.g. RELIANCE" list="sym_list" autocomplete="off">
            <button class="btn btn-outline-success" type="button" onclick="addToWatchlist('#trade_sym')">‚ûï</button>
        </div>
        <datalist id="sym_list"></datalist>
    </div>
</div>

<div class="row g-2 mb-2">
    <div class="col-4">
        <label class="pos-grid-label">Expiry</label>
        <select id="trade_exp" class="form-select form-select-sm"></select>
    </div>
    <div class="col-4">
        <label class="pos-grid-label">Strike</label>
        <select id="trade_str" class="form-select form-select-sm"></select>
    </div>
    <div class="col-4">
        <label class="pos-grid-label">Type</label>
        <div class="btn-group w-100" role="group">
            <input type="radio" class="btn-check" name="trade_type" id="tt_ce" value="CE" checked>
            <label class="btn btn-outline-secondary btn-sm" for="tt_ce">CE</label>
            <input type="radio" class="btn-check" name="trade_type" id="tt_pe" value="PE">
            <label class="btn btn-outline-secondary btn-sm" for="tt_pe">PE</label>
            <input type="radio" class="btn-check" name="trade_type" id="tt_fut" value="FUT">
            <label class="btn btn-outline-secondary btn-sm" for="tt_fut">FUT</label>
        </div>
    </div>
</div>

<hr class="my-2">

<div class="row g-2 mb-2">
    <div class="col-6">
        <label class="pos-grid-label">Quantity</label>
        <div class="input-group">
            <button class="btn btn-outline-secondary btn-sm fw-bold" type="button" onclick="adjQty(-1)">-</button>
            <input type="number" id="trade_qty" class="form-control fw-bold text-center" placeholder="Qty">
            <button class="btn btn-outline-secondary btn-sm fw-bold" type="button" onclick="adjQty(1)">+</button>
        </div>
    </div>
    <div class="col-6">
        <label class="pos-grid-label">Price (0 = Mkt)</label>
        <input type="number" step="0.05" id="trade_price" class="form-control fw-bold text-primary" placeholder="Market">
    </div>
</div>

<div class="row g-2 mb-2">
    <div class="col-6">
        <label class="pos-grid-label text-danger">SL Points</label>
        <input type="number" step="0.5" id="trade_sl" class="form-control fw-bold text-danger" placeholder="Pts">
    </div>
    <div class="col-6">
        <label class="pos-grid-label text-danger">SL Price</label>
        <input type="number" step="0.05" id="trade_sl_price" class="form-control fw-bold text-danger" placeholder="Price">
    </div>
</div>

<div class="mb-2">
    <label class="pos-grid-label">Exit Multiplier (Split Targets)</label>
    <input type="number" id="trade_exit_mult" class="form-control border-info fw-bold text-center" value="1" min="1" max="10">
</div>

<div class="mb-3">
    <label class="pos-grid-label text-success">Targets (Price | Active | Lots | Full)</label>
    
    <div class="input-group input-group-sm mb-1">
        <span class="input-group-text text-success fw-bold">T1</span>
        <input type="number" step="0.05" id="trade_t1" class="form-control text-success fw-bold">
        <div class="input-group-text px-1">
            <input class="form-check-input mt-0" type="checkbox" id="trade_t1_active" checked>
        </div>
        <input type="number" id="trade_t1_lots" class="form-control px-1 text-center" placeholder="Lots">
        <div class="input-group-text px-1" title="Exit All">
            <input class="form-check-input mt-0" type="checkbox" id="trade_t1_full">
        </div>
        <div class="input-group-text px-1" title="Trail to Cost">
            <input class="form-check-input mt-0" type="checkbox" id="trade_t1_cost"> <span style="font-size:0.6rem;">C</span>
        </div>
    </div>

    <div class="input-group input-group-sm mb-1">
        <span class="input-group-text text-success fw-bold">T2</span>
        <input type="number" step="0.05" id="trade_t2" class="form-control text-success fw-bold">
        <div class="input-group-text px-1">
            <input class="form-check-input mt-0" type="checkbox" id="trade_t2_active" checked>
        </div>
        <input type="number" id="trade_t2_lots" class="form-control px-1 text-center" placeholder="Lots">
        <div class="input-group-text px-1" title="Exit All">
            <input class="form-check-input mt-0" type="checkbox" id="trade_t2_full">
        </div>
        <div class="input-group-text px-1" title="Trail to Cost">
            <input class="form-check-input mt-0" type="checkbox" id="trade_t2_cost"> <span style="font-size:0.6rem;">C</span>
        </div>
    </div>

    <div class="input-group input-group-sm mb-1">
        <span class="input-group-text text-success fw-bold">T3</span>
        <input type="number" step="0.05" id="trade_t3" class="form-control text-success fw-bold">
        <div class="input-group-text px-1">
            <input class="form-check-input mt-0" type="checkbox" id="trade_t3_active" checked>
        </div>
        <input type="number" id="trade_t3_lots" class="form-control px-1 text-center" placeholder="Lots">
        <div class="input-group-text px-1" title="Exit All">
            <input class="form-check-input mt-0" type="checkbox" id="trade_t3_full" checked>
        </div>
        <div class="input-group-text px-1" title="Trail to Cost">
            <input class="form-check-input mt-0" type="checkbox" id="trade_t3_cost"> <span style="font-size:0.6rem;">C</span>
        </div>
    </div>
</div>

<div class="mb-3">
    <label class="pos-grid-label">üì¢ Notify Channels</label>
    <div class="d-flex gap-2 flex-wrap p-2 border rounded bg-white" id="channel_selector">
        </div>
</div>
<div class="row g-2">
    <div class="col-6">
        <button class="btn btn-success w-100 fw-bold py-2" onclick="placeTrade('BUY')">
            <i class="fas fa-arrow-up"></i> BUY (LONG)
        </button>
    </div>
    <div class="col-6">
        <button class="btn btn-danger w-100 fw-bold py-2" onclick="placeTrade('SELL')">
            <i class="fas fa-arrow-down"></i> SELL (SHORT)
        </button>
    </div>
</div>
